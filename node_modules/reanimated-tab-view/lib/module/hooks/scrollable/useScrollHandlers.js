import { cancelAnimation, useWorkletCallback } from 'react-native-reanimated';
import { GestureSource } from '../../constants/scrollable';
import { useScrollableContext } from '../../providers/Scrollable';
import { useSceneRendererContext } from '../../providers/SceneRenderer';
export const useScrollHandlers = scrollYSV => {
  const {
    animatedTranslateYSV,
    translateYBounds,
    gestureSourceSV
  } = useScrollableContext();
  const {
    isRouteFocused
  } = useSceneRendererContext();
  const onBeginDrag = useWorkletCallback(() => {
    if (!isRouteFocused) {
      return;
    }
    cancelAnimation(animatedTranslateYSV);
    gestureSourceSV.value = GestureSource.SCROLL;
  }, [animatedTranslateYSV, gestureSourceSV, isRouteFocused]);
  const onScroll = useWorkletCallback(event => {
    scrollYSV.value = event.contentOffset.y;
    if (!isRouteFocused) {
      return;
    }
    if (gestureSourceSV.value === GestureSource.SCROLL) {
      animatedTranslateYSV.value = Math.min(Math.max(event.contentOffset.y, translateYBounds.lower), translateYBounds.upper);
    }
  }, [animatedTranslateYSV, gestureSourceSV, translateYBounds, isRouteFocused]);
  return {
    onBeginDrag,
    onScroll
  };
};
//# sourceMappingURL=useScrollHandlers.js.map