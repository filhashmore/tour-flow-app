"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useScrollHandlers = void 0;
var _reactNativeReanimated = require("react-native-reanimated");
var _scrollable = require("../../constants/scrollable");
var _Scrollable = require("../../providers/Scrollable");
var _SceneRenderer = require("../../providers/SceneRenderer");
const useScrollHandlers = scrollYSV => {
  const {
    animatedTranslateYSV,
    translateYBounds,
    gestureSourceSV
  } = (0, _Scrollable.useScrollableContext)();
  const {
    isRouteFocused
  } = (0, _SceneRenderer.useSceneRendererContext)();
  const onBeginDrag = (0, _reactNativeReanimated.useWorkletCallback)(() => {
    if (!isRouteFocused) {
      return;
    }
    (0, _reactNativeReanimated.cancelAnimation)(animatedTranslateYSV);
    gestureSourceSV.value = _scrollable.GestureSource.SCROLL;
  }, [animatedTranslateYSV, gestureSourceSV, isRouteFocused]);
  const onScroll = (0, _reactNativeReanimated.useWorkletCallback)(event => {
    scrollYSV.value = event.contentOffset.y;
    if (!isRouteFocused) {
      return;
    }
    if (gestureSourceSV.value === _scrollable.GestureSource.SCROLL) {
      animatedTranslateYSV.value = Math.min(Math.max(event.contentOffset.y, translateYBounds.lower), translateYBounds.upper);
    }
  }, [animatedTranslateYSV, gestureSourceSV, translateYBounds, isRouteFocused]);
  return {
    onBeginDrag,
    onScroll
  };
};
exports.useScrollHandlers = useScrollHandlers;
//# sourceMappingURL=useScrollHandlers.js.map