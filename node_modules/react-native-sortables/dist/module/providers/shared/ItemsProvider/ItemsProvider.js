"use strict";

import { useEffect, useState } from 'react';
import { createProvider } from '../../utils';
import { createItemsStore } from './store';
const {
  ItemsProvider,
  useItemsContext
} = createProvider('Items')(({
  items,
  renderItem
}) => {
  const [store] = useState(() => createItemsStore(items, renderItem));
  useEffect(() => {
    store.update(items, renderItem);
  }, [items, renderItem, store]);
  return {
    value: {
      getKeys: store.getKeys,
      getNode: store.getNode,
      subscribeItem: store.subscribeItem,
      subscribeKeys: store.subscribeKeys
    }
  };
});
const TypedItemsProvider = ItemsProvider;
export { TypedItemsProvider as ItemsProvider, useItemsContext };
//# sourceMappingURL=ItemsProvider.js.map