{"version":3,"names":["useCallback","useMemo","useRef","clamp","makeMutable","measure","useAnimatedReaction","clearAnimatedTimeout","setAnimatedTimeout","useMutableValue","calculateSnapOffset","resolveDimension","useAutoScrollContext","useCommonValuesContext","useCustomHandleContext","createProvider","calculateItemCrossOffset","AutoOffsetAdjustmentState","AutoOffsetAdjustmentProvider","useAutoOffsetAdjustmentContext","guarded","autoAdjustOffsetResetTimeout","autoAdjustOffsetScrollPadding","activeItemDimensions","activeItemDropped","activeItemKey","activeItemPosition","containerRef","enableActiveItemSnap","itemPositions","keyToIndex","prevActiveItemKey","snapOffsetX","snapOffsetY","sortEnabled","touchPosition","activeHandleMeasurements","activeHandleOffset","scrollableRef","scrollBy","additionalCrossOffset","scrollPadding","Array","isArray","contextRef","current","keepInViewData","prevSortEnabled","value","resetTimeoutId","state","DISABLED","context","disableAutoOffsetAdjustment","ctx","dropped","ENABLED","adjustScrollToKeepItemInView","padding","containerMeasurements","scrollableMeasurements","isVertical","itemCrossOffset","itemCrossSize","height","scrollableHeight","pageX","scrollableX","pageY","scrollableY","width","scrollableWidth","containerX","containerY","scrollableCrossSize","relativeScrollOffset","relativeItemOffset","minOffset","maxOffset","clampedOffset","adaptLayoutProps","props","prevProps","itemKey","RESET","gaps","indexToKey","itemHeights","itemWidths","numGroups","crossItemSizes","prevCrossIteSizes","crossOffsetsChanged","cross","startCrossOffset","crossCoordinate","autoOffsetAdjustmentCommonProps","crossGap","prevActiveKey","oldCrossOffset","newCrossOffset","scrollDistance","requestNextLayout","shouldAnimateLayout","snapBasedOffset","offset","y","x","activeItemCrossOffset","activeItemIndex","itemAtActiveIndexKey","itemAtActiveIndexOffset","Math","max"],"sourceRoot":"../../../../src","sources":["providers/grid/AutoOffsetAdjustmentProvider.tsx"],"mappings":";;AACA,SAASA,WAAW,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AAEpD,SACEC,KAAK,EACLC,WAAW,EACXC,OAAO,EACPC,mBAAmB,QACd,yBAAyB;AAEhC,SACEC,oBAAoB,EACpBC,kBAAkB,EAClBC,eAAe,QACV,+BAA+B;AAKtC,SAASC,mBAAmB,EAAEC,gBAAgB,QAAQ,aAAa;AACnE,SACEC,oBAAoB,EACpBC,sBAAsB,EACtBC,sBAAsB,QACjB,WAAW;AAClB,SAASC,cAAc,QAAQ,UAAU;AACzC,SAASC,wBAAwB,QAAQ,4BAA4B;AAAC,IAEjEC,yBAAyB,0BAAzBA,yBAAyB;EAAzBA,yBAAyB,CAAzBA,yBAAyB;EACnB;EADNA,yBAAyB,CAAzBA,yBAAyB;EAElB;EAFPA,yBAAyB,CAAzBA,yBAAyB;EAGnB;EAHNA,yBAAyB,CAAzBA,yBAAyB,0BAItB;EAAA,OAJHA,yBAAyB;AAAA,EAAzBA,yBAAyB;AAyB9B,MAAM;EAAEC,4BAA4B;EAAEC;AAA+B,CAAC,GACpEJ,cAAc,CAAC,sBAAsB,EAAE;EACrCK,OAAO,EAAE;AACX,CAAC,CAAC,CAAqE,CAAC;EACtEC,4BAA4B;EAC5BC;AACF,CAAC,KAAK;EACJ,MAAM;IACJC,oBAAoB;IACpBC,iBAAiB;IACjBC,aAAa;IACbC,kBAAkB;IAClBC,YAAY;IACZC,oBAAoB;IACpBC,aAAa;IACbC,UAAU;IACVC,iBAAiB;IACjBC,WAAW;IACXC,WAAW;IACXC,WAAW;IACXC;EACF,CAAC,GAAGtB,sBAAsB,CAAC,CAAC;EAC5B,MAAM;IAAEuB,wBAAwB;IAAEC;EAAmB,CAAC,GACpDvB,sBAAsB,CAAC,CAAC,IAAI,CAAC,CAAC;EAChC,MAAM;IAAEwB,aAAa;IAAEC;EAAS,CAAC,GAAG3B,oBAAoB,CAAC,CAAC,IAAI,CAAC,CAAC;EAEhE,MAAM4B,qBAAqB,GAAG/B,eAAe,CAAgB,IAAI,CAAC;EAElE,MAAMgC,aAAa,GAAGxC,OAAO,CAC3B,MACEqB,6BAA6B,KAAK,IAAI,GAClC,IAAI,GACJoB,KAAK,CAACC,OAAO,CAACrB,6BAA6B,CAAC,GAC1CA,6BAA6B,GAC7B,CAACA,6BAA6B,EAAEA,6BAA6B,CAAC,EACtE,CAACA,6BAA6B,CAChC,CAAC;EAED,MAAMsB,UAAU,GAAG1C,MAAM,CAAuC,IAAI,CAAC;EACrE0C,UAAU,CAACC,OAAO,KAAKzC,WAAW,CAAmB;IACnD0C,cAAc,EAAE,IAAI;IACpBC,eAAe,EAAEb,WAAW,CAACc,KAAK;IAClCC,cAAc,EAAE,CAAC;IACjBC,KAAK,EAAEjC,yBAAyB,CAACkC;EACnC,CAAC,CAAC;EACF,MAAMC,OAAO,GAAGR,UAAU,CAACC,OAAO;EAElC,MAAMQ,2BAA2B,GAAGrD,WAAW,CAAC,MAAM;IACpD,SAAS;;IACT,MAAMsD,GAAG,GAAGF,OAAO,CAACJ,KAAK;IACzB,IAAIM,GAAG,CAACP,eAAe,KAAK,IAAI,EAAE;MAChC;IACF;IACAxC,oBAAoB,CAAC+C,GAAG,CAACL,cAAc,CAAC;IACxCK,GAAG,CAACJ,KAAK,GAAGjC,yBAAyB,CAACkC,QAAQ;IAC9CjB,WAAW,CAACc,KAAK,GAAGM,GAAG,CAACP,eAAe;IACvCO,GAAG,CAACP,eAAe,GAAG,IAAI;IAC1BP,qBAAqB,CAACQ,KAAK,GAAG,IAAI;EACpC,CAAC,EAAE,CAACI,OAAO,EAAElB,WAAW,EAAEM,qBAAqB,CAAC,CAAC;EAEjDlC,mBAAmB,CACjB,MAAMkB,iBAAiB,CAACwB,KAAK,EAC7BO,OAAO,IAAI;IACThD,oBAAoB,CAAC6C,OAAO,CAACJ,KAAK,CAACC,cAAc,CAAC;IAClD,IACEM,OAAO,IACPH,OAAO,CAACJ,KAAK,CAACE,KAAK,KAAKjC,yBAAyB,CAACkC,QAAQ,EAC1D;MACAC,OAAO,CAACJ,KAAK,CAACC,cAAc,GAAGzC,kBAAkB,CAC/C6C,2BAA2B,EAC3BhC,4BACF,CAAC;IACH,CAAC,MAAM;MACL+B,OAAO,CAACJ,KAAK,CAACE,KAAK,GAAGjC,yBAAyB,CAACuC,OAAO;IACzD;EACF,CACF,CAAC;EAED,MAAMC,4BAA4B,GAAGzD,WAAW,CAC7C0D,OAAyB,IAAK;IAC7B,SAAS;;IACT,MAAMZ,cAAc,GAAGM,OAAO,CAACJ,KAAK,CAACF,cAAc;IACnD,IAAI,CAACP,QAAQ,IAAI,CAACD,aAAa,IAAI,CAACQ,cAAc,EAAE;MAClD;IACF;IAEA,MAAMa,qBAAqB,GAAGtD,OAAO,CAACsB,YAAY,CAAC;IACnD,MAAMiC,sBAAsB,GAAGvD,OAAO,CAACiC,aAAa,CAAC;IACrD,IAAI,CAACqB,qBAAqB,IAAI,CAACC,sBAAsB,EAAE;MACrD;IACF;IAEA,MAAM;MAAEC,UAAU;MAAEC,eAAe;MAAEC;IAAc,CAAC,GAAGjB,cAAc;IACrE,MAAM;MACJkB,MAAM,EAAEC,gBAAgB;MACxBC,KAAK,EAAEC,WAAW;MAClBC,KAAK,EAAEC,WAAW;MAClBC,KAAK,EAAEC;IACT,CAAC,GAAGX,sBAAsB;IAC1B,MAAM;MAAEM,KAAK,EAAEM,UAAU;MAAEJ,KAAK,EAAEK;IAAW,CAAC,GAAGd,qBAAqB;IAEtE,MAAMe,mBAAmB,GAAGb,UAAU,GAClCI,gBAAgB,GAChBM,eAAe;IACnB,MAAMI,oBAAoB,GAAGd,UAAU,GACnCQ,WAAW,GAAGI,UAAU,GACxBN,WAAW,GAAGK,UAAU;IAC5B,MAAMI,kBAAkB,GAAGd,eAAe,GAAGa,oBAAoB;IAEjE,MAAME,SAAS,GAAGnB,OAAO,CAAC,CAAC,CAAC;IAC5B,MAAMoB,SAAS,GAAGJ,mBAAmB,GAAGX,aAAa,GAAGL,OAAO,CAAC,CAAC,CAAC;IAElE,IAAIqB,aAAa,GAAG,CAAC;IACrB,IAAIF,SAAS,GAAGC,SAAS,EAAE;MACzB;MACAC,aAAa,GAAG,CAACF,SAAS,GAAGC,SAAS,IAAI,CAAC;IAC7C,CAAC,MAAM;MACLC,aAAa,GAAG5E,KAAK,CAACyE,kBAAkB,EAAEC,SAAS,EAAEC,SAAS,CAAC;IACjE;IAEAvC,QAAQ,CAACqC,kBAAkB,GAAGG,aAAa,EAAE,IAAI,CAAC;IAElD3B,OAAO,CAACJ,KAAK,CAACF,cAAc,GAAG,IAAI;EACrC,CAAC,EACD,CAACnB,YAAY,EAAEW,aAAa,EAAEc,OAAO,EAAEb,QAAQ,CACjD,CAAC;EAED,MAAMyC,gBAAgB,GAAGhF,WAAW,CAClC,CACEiF,KAAsB,EACtBC,SAAiC,KACb;IACpB,SAAS;;IACT,MAAMC,OAAO,GAAG1D,aAAa,CAACuB,KAAK,IAAIjB,iBAAiB,CAACiB,KAAK;IAE9D,MAAMM,GAAG,GAAGF,OAAO,CAACJ,KAAK;IACzB,IAAIM,GAAG,CAACJ,KAAK,KAAKjC,yBAAyB,CAACkC,QAAQ,EAAE;MACpD,OAAO8B,KAAK;IACd;IACA,IAAI3B,GAAG,CAACJ,KAAK,KAAKjC,yBAAyB,CAACmE,KAAK,IAAID,OAAO,KAAK,IAAI,EAAE;MACrE;MACA,IAAI1C,aAAa,EAAE;QACjBjC,kBAAkB,CAAC,MACjBiD,4BAA4B,CAAChB,aAAa,CAC5C,CAAC;MACH;MACAY,2BAA2B,CAAC,CAAC;MAC7B,OAAO4B,KAAK;IACd;IAEA,MAAM;MACJI,IAAI;MACJC,UAAU;MACVzB,UAAU;MACV0B,WAAW;MACXC,UAAU;MACVC;IACF,CAAC,GAAGR,KAAK;IACT,MAAMS,cAAc,GAAG7B,UAAU,GAAG0B,WAAW,GAAGC,UAAU;IAC5D,MAAMG,iBAAiB,GAAG9B,UAAU,GAChCqB,SAAS,EAAEK,WAAW,GACtBL,SAAS,EAAEM,UAAU;IACzB,MAAMI,mBAAmB,GACvBF,cAAc,KAAKC,iBAAiB,IACpCN,IAAI,CAACQ,KAAK,KAAKX,SAAS,EAAEG,IAAI,CAACQ,KAAK;IAEtC,IAAI,CAACD,mBAAmB,EAAE;MACxB,OAAO;QAAE,GAAGX,KAAK;QAAEa,gBAAgB,EAAEtD,qBAAqB,CAACQ;MAAM,CAAC;IACpE;IAEA,MAAM+C,eAAe,GAAGlC,UAAU,GAAG,GAAG,GAAG,GAAG;IAC9C,MAAMmC,+BAA+B,GAAG;MACtCC,QAAQ,EAAEZ,IAAI,CAACQ,KAAK;MACpBH,cAAc;MACdJ,UAAU,EAAEA,UAAU;MACtBG;IACF,CAAU;IAEV,IACEhE,aAAa,CAACuB,KAAK,KAAK,IAAI,IAC5BR,qBAAqB,CAACQ,KAAK,KAAK,IAAI,IACpC2C,iBAAiB,KAAK,IAAI,EAC1B;MACA,IAAI,CAACrD,aAAa,EAAE;QAClBe,2BAA2B,CAAC,CAAC;QAC7B,OAAO4B,KAAK;MACd;MAEA,MAAMiB,aAAa,GAAGnE,iBAAiB,CAACiB,KAAM;MAC9C,MAAMmD,cAAc,GAClBtE,aAAa,CAACmB,KAAK,CAACkD,aAAa,CAAC,GAAGH,eAAe,CAAC,IAAI,CAAC;MAC5D,MAAMK,cAAc,GAAGpF,wBAAwB,CAAC;QAC9C,GAAGgF,+BAA+B;QAClCb,OAAO,EAAEe;MACX,CAAC,CAAC;MAEF,MAAMG,cAAc,GAAGD,cAAc,GAAGD,cAAc;MACtD,MAAML,gBAAgB,GAAGtD,qBAAqB,CAACQ,KAAK,GAAGqD,cAAc;MAErE,MAAMtC,aAAa,GAAGpD,gBAAgB,CAAC+E,cAAc,EAAEQ,aAAa,CAAC;MACrE5C,GAAG,CAACR,cAAc,GAChBiB,aAAa,KAAK,IAAI,GAClB,IAAI,GACJ;QACEF,UAAU;QACVC,eAAe,EAAEsC,cAAc;QAC/BrC;MACF,CAAC;MAEPvD,kBAAkB,CAAC,MAAM+B,QAAQ,GAAG8D,cAAc,EAAE,KAAK,CAAC,CAAC;MAE3D/C,GAAG,CAACJ,KAAK,GAAGjC,yBAAyB,CAACmE,KAAK;MAE3C,OAAO;QACL,GAAGH,KAAK;QACRI,IAAI,EAAEH,SAAS,EAAEG,IAAI,IAAIA,IAAI;QAC7B,CAACxB,UAAU,GAAG,aAAa,GAAG,YAAY,GAAG8B,iBAAiB;QAC9DW,iBAAiB,EAAE,IAAI;QACvBC,mBAAmB,EAAE,KAAK;QAC1BT;MACF,CAAC;IACH;IAEA,IAAIU,eAAe,GAAG,CAAC;IAEvB,IACE5E,oBAAoB,CAACoB,KAAK,IAC1Bb,aAAa,CAACa,KAAK,IACnBtB,kBAAkB,CAACsB,KAAK,IACxBzB,oBAAoB,CAACyB,KAAK,EAC1B;MACA,MAAMyD,MAAM,GAAG/F,mBAAmB,CAChCsB,WAAW,CAACgB,KAAK,EACjBf,WAAW,CAACe,KAAK,EACjBZ,wBAAwB,EAAEY,KAAK,IAAIzB,oBAAoB,CAACyB,KAAK,EAC7DX,kBAAkB,EAAEW,KACtB,CAAC;MACDwD,eAAe,GAAG3C,UAAU,GACxB1B,aAAa,CAACa,KAAK,CAAC0D,CAAC,GAAGhF,kBAAkB,CAACsB,KAAK,CAAC0D,CAAC,GAAGD,MAAM,CAACC,CAAC,GAC7DvE,aAAa,CAACa,KAAK,CAAC2D,CAAC,GAAGjF,kBAAkB,CAACsB,KAAK,CAAC2D,CAAC,GAAGF,MAAM,CAACE,CAAC;IACnE;IAEA,MAAMC,qBAAqB,GAAG5F,wBAAwB,CAAC;MACrD,GAAGgF,+BAA+B;MAClCb;IACF,CAAC,CAAC;IAEF,MAAM0B,eAAe,GAAG/E,UAAU,CAACkB,KAAK,CAACmC,OAAO,CAAC;IACjD,MAAM2B,oBAAoB,GAAGxB,UAAU,CAACuB,eAAe,CAAE;IACzD,MAAME,uBAAuB,GAC3BlF,aAAa,CAACmB,KAAK,CAAC8D,oBAAoB,CAAE,GAAGf,eAAe,CAAC,IAAI,CAAC;IAEpE,MAAMD,gBAAgB,GAAGkB,IAAI,CAACC,GAAG,CAC/B,CAAC,EACDF,uBAAuB,GAAGH,qBAAqB,GAAGJ,eACpD,CAAC;IAEDhE,qBAAqB,CAACQ,KAAK,GAAG8C,gBAAgB;IAC9CxC,GAAG,CAACP,eAAe,KAAKb,WAAW,CAACc,KAAK;IACzCd,WAAW,CAACc,KAAK,GAAG,KAAK;IAEzB,OAAO;MACL,GAAGiC,KAAK;MACRa;IACF,CAAC;EACH,CAAC,EACD,CACErE,aAAa,EACbW,wBAAwB,EACxBC,kBAAkB,EAClBd,oBAAoB,EACpBG,kBAAkB,EAClBc,qBAAqB,EACrBiB,4BAA4B,EAC5BJ,2BAA2B,EAC3BzB,oBAAoB,EACpBC,aAAa,EACbC,UAAU,EACVC,iBAAiB,EACjBC,WAAW,EACXC,WAAW,EACXE,aAAa,EACbM,aAAa,EACbF,QAAQ,EACRa,OAAO,EACPlB,WAAW,EACXI,aAAa,CAEjB,CAAC;EAED,OAAO;IACLU,KAAK,EAAE;MACLgC,gBAAgB;MAChBxC;IACF;EACF,CAAC;AACH,CAAC,CAAC;AAEJ,SAAStB,4BAA4B,EAAEC,8BAA8B","ignoreList":[]}
